# Strudel CLI ì‚¬ìš© ê°€ì´ë“œ

## ì„¤ì¹˜ í™•ì¸

```bash
strudel --version   # 1.0.0 ì¶œë ¥ë˜ë©´ OK. ë°ì´í„°: ~/.strudel-cli/songs.json
```

## ëª…ë ¹ì–´

### `make` â€” ê³¡ ë§Œë“¤ê¸°

```bash
# ê¸°ë³¸ ë¹„íŠ¸
strudel make my-beat -c 'setcpm(30) $: s("bd sd [~ bd] sd, hh*8").bank("RolandTR909")'

# ë©œë¡œë”” + ë² ì´ìŠ¤
strudel make ambient -c 'setcpm(18) $: note("<[c3,eb3,g3] [ab2,c3,eb3]>/2").sound("sawtooth").lpf(800).room(.8) $: note("c1").sound("sine").lpf(200).gain(.7)'
```

### `play` â€” ì¬ìƒ

```bash
strudel play my-beat          # ìµœì‹  ë²„ì „ ì¬ìƒ
strudel play my-beat --ver 1  # íŠ¹ì • ë²„ì „ ì¬ìƒ
```

### `stop` / `pause` â€” ì •ì§€ / ì¼ì‹œì •ì§€

```bash
strudel stop    # ì™„ì „ ì •ì§€
strudel pause   # ì¼ì‹œì •ì§€
```

### `current` â€” í˜„ì¬ ìƒíƒœ í™•ì¸

```bash
strudel current   # ì¬ìƒ ì¤‘ì¸ ê³¡ ì´ë¦„, ë²„ì „, ì½”ë“œ í‘œì‹œ
```

### `update` â€” ê³¡ ìˆ˜ì • (ìë™ ì¬ìƒ)

```bash
# í•„í„° ê°’ ë³€ê²½
strudel update ambient --from "lpf(800)" --to "lpf(1500)"

# ë“œëŸ¼ íŒ¨í„´ ë³€ê²½
strudel update my-beat --from 'hh*8' --to 'hh*16'

# ë™ì¼ ë¬¸ìì—´ì´ ì—¬ëŸ¬ ê°œì¼ ë•Œ ì¸ë±ìŠ¤ ì§€ì • (0ë¶€í„°)
strudel update ambient --from ".room(.8)" --to ".room(.3)" --index 0
```

> `update`ëŠ” ìˆ˜ì • í›„ ìë™ìœ¼ë¡œ ë³€ê²½ëœ ì½”ë“œë¥¼ ì¬ìƒí•©ë‹ˆë‹¤.

### `detail` â€” ê³¡ ì½”ë“œ ë³´ê¸°

```bash
strudel detail ambient          # ìµœì‹  ë²„ì „
strudel detail ambient --ver 1  # v1 ì½”ë“œ í™•ì¸
```

### `delete` â€” ê³¡ ì‚­ì œ

```bash
strudel delete my-beat
```

### `rename` â€” ê³¡ ì´ë¦„ ë³€ê²½

```bash
strudel rename my-beat my-groove
```

### `list` â€” ì €ì¥ëœ ê³¡ ëª©ë¡

```bash
strudel list
```

## ì›Œí¬í”Œë¡œìš° (ê³¡ ë§Œë“¤ê¸° â†’ ì¬ìƒ â†’ ìˆ˜ì • â†’ ì¬ìƒ)

```bash
# 1. ê³¡ ìƒì„±
strudel make lofi -c 'setcpm(22) $: s("bd [~ bd] sd ~").bank("RolandTR808").swing(4) $: n("<[0,2,4] [1,3,5]>").scale("D:dorian").sound("piano").lpf(1500).room(.4)'

# 2. ì¬ìƒ
strudel play lofi

# 3. ë“¤ìœ¼ë©´ì„œ ìˆ˜ì • (ìë™ ì¬ìƒë¨)
strudel update lofi --from "lpf(1500)" --to "lpf(2500)"
strudel update lofi --from "swing(4)" --to "swing(4).degradeBy(.15)"

# 4. ì½”ë“œ í™•ì¸
strudel detail lofi

# 5. ì´ì „ ë²„ì „ìœ¼ë¡œ ëŒì•„ê°€ê¸°
strudel play lofi --ver 1

# 6. ì •ì§€
strudel stop
```

## ê³¡ ì½”ë“œ ì‘ì„± ì‹œ ì£¼ì˜ì‚¬í•­

### ê´„í˜¸ ì§ ë§ì¶”ê¸° (ê°€ì¥ í”í•œ ì‹¤ìˆ˜)
```
âŒ note("<g5 bb5> [~ d6>")     â† < > ì™€ [ ] ê°€ ì„ì—¬ì„œ ë‹«í˜
âœ… note("<g5 bb5> [~ d6]")     â† ê°ê° ì˜¬ë°”ë¥´ê²Œ ë‹«í˜
```
- `[ ]` â€” ì„œë¸Œì‹œí€€ìŠ¤ (ê·¸ë£¹í•‘)
- `< >` â€” ì‚¬ì´í´ë‹¹ í•˜ë‚˜ì”© ë²ˆê°ˆì•„ ì¬ìƒ
- `( )` â€” ìœ í´ë¦¬ë“œ ë¦¬ë“¬ `"bd(3,8)"`
- **ì—´ì—ˆìœ¼ë©´ ê°™ì€ ì¢…ë¥˜ë¡œ ë‹«ê¸°!** ì¤‘ì²© ê°€ëŠ¥í•˜ì§€ë§Œ êµì°¨í•˜ë©´ íŒŒì‹± ì—ëŸ¬

### ë¯¸ë‹ˆë…¸í…Œì´ì…˜ ë¹ ë¥¸ ì°¸ì¡°
| ë¬¸ë²• | ì˜ë¯¸ | ì˜ˆì‹œ |
|------|------|------|
| ê³µë°± | ì‹œí€€ìŠ¤ | `"bd sd hh"` |
| `*N` | ë¹ ë¥´ê²Œ | `"hh*8"` |
| `/N` | ëŠë¦¬ê²Œ | `"[c d e f]/2"` |
| `< >` | ë²ˆê°ˆì•„ | `"<bd sd rim>"` |
| `[ ]` | ê·¸ë£¹ | `"bd [hh hh] sd"` |
| `,` | ë™ì‹œ ì¬ìƒ | `"bd sd, hh*4"` |
| `~` | ì‰¼í‘œ | `"bd ~ sd ~"` |
| `:N` | ìƒ˜í”Œ ë²ˆí˜¸ | `"hh:2"` |
| `@N` | ê¸¸ê²Œ | `"c@3 e"` |
| `!N` | ë³µì œ | `"c!3 e"` |

### ë…¸íŠ¸ ì´ë¦„ ê·œì¹™
```
âœ… c3, eb3, f#4, bb2, a4    â† ì†Œë¬¸ì + ì˜¥íƒ€ë¸Œ
âŒ C3, Eb3, am3, H2          â† ëŒ€ë¬¸ì, ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë…¸íŠ¸ëª…
```
- `b` = B ë…¸íŠ¸, `bb` = Bâ™­ (í”Œë«), `#` = ìƒ¤í”„
- ì˜¥íƒ€ë¸Œ ìƒëµí•˜ë©´ ê¸°ë³¸ 3 (`c` = `c3`)
- MIDI ë²ˆí˜¸ë„ ê°€ëŠ¥: `note("60 64 67")` = C4 E4 G4

### ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ëª… (í”í•œ ì‹¤ìˆ˜)
| âŒ ì˜ëª»ëœ ì´ë¦„ | âœ… ì˜¬ë°”ë¥¸ ì´ë¦„ |
|---------------|---------------|
| `.reverb()` | `.room()` |
| `.lowpass()` | `.lpf()` |
| `.bpm(120)` | `setcpm(30)` |
| `.volume()` | `.gain()` |
| `.synth("saw")` | `.sound("sawtooth")` |

### ì‚¬ìš© ê°€ëŠ¥í•œ ì‚¬ìš´ë“œ ëª©ë¡

**ë“œëŸ¼ (ê¸°ë³¸ ë‚´ì¥)**
`bd` `sd` `hh` `oh` `cp` `rim` `cr` `rd` `lt` `mt` `ht` `cb`

**ë“œëŸ¼ ë¨¸ì‹ ** (`.bank()` ì‚¬ìš©)
`RolandTR808` `RolandTR909` `RolandTR707` `RolandTR505` `AkaiLinn` `RhythmAce` `CasioRZ1` `ViscoSpaceDrum`
```
s("bd sd [~ bd] sd, hh*8").bank("RolandTR909")
```

**ì‹ ìŠ¤ (íŒŒí˜•)**
`sine` `sawtooth` `square` `triangle`

**ìƒ˜í”Œ ì•…ê¸° (ë„¤íŠ¸ì›Œí¬ í•„ìš” â€” ì²« ì¬ìƒ ì‹œ ë‹¤ìš´ë¡œë“œ)**
`piano` `casio` `jazz` `metal` `east` `crow` `space` `wind` `insect` `numbers`

**GM ì‚¬ìš´ë“œ (ë„¤íŠ¸ì›Œí¬ í•„ìš”)**
`gm_acoustic_bass` `gm_electric_guitar_muted` `gm_synth_strings_1` `gm_synth_bass_1` `gm_voice_oohs` `gm_blown_bottle` `gm_xylophone` `gm_accordion` `gm_epiano1`

> ğŸ’¡ ì‹ ìŠ¤(`sine`, `sawtooth` ë“±)ëŠ” ë„¤íŠ¸ì›Œí¬ ì—†ì´ ì¦‰ì‹œ ì¬ìƒë©ë‹ˆë‹¤.
> ìƒ˜í”Œ/GM ì‚¬ìš´ë“œëŠ” ì²« ì¬ìƒ ì‹œ ë‹¤ìš´ë¡œë“œë˜ë¯€ë¡œ ì´ˆë°˜ 1~2ì´ˆ ì§€ì—°ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### CLI í™˜ê²½ ì œì•½ì‚¬í•­
- **AudioWorklet ë¯¸ì§€ì›** â€” `.shape()`, `.crush()`, `.coarse()` ë“± ì¼ë¶€ ì´í™íŠ¸ëŠ” ì†Œë¦¬ê°€ ì•ˆ ë‚¨ (ë¸Œë¼ìš°ì € ì „ìš© ê¸°ëŠ¥)
- **FM í•©ì„± ì£¼ì˜** â€” `.fm()` ê°’ì´ ë†’ìœ¼ë©´ (8 ì´ìƒ) ë…¸ì´ì¦ˆê°€ ì‹¬í•  ìˆ˜ ìˆìŒ. CLIì—ì„œëŠ” `.fm(1~4)` ê¶Œì¥
- **ìƒ˜í”Œ ì²« ë¡œë”©** â€” í”¼ì•„ë…¸, GM ì‚¬ìš´ë“œ ë“±ì€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë‹¤ìš´ë¡œë“œë¨. ì²« ì¬ìƒ ì‹œ ì•½ê°„ì˜ ì§€ì—° í›„ ì •ìƒ ë™ì‘

## ì£¼ì˜ì‚¬í•­ & íŒ

- **`--code` ê°’ì€ ì‘ì€ë”°ì˜´í‘œ(`'`)ë¡œ ê°ì‹¸ì„¸ìš”** â€” í°ë”°ì˜´í‘œëŠ” ì…¸ì´ ë¨¹ìŒ
- **`--from`ì´ ì—¬ëŸ¬ ë²ˆ ë§¤ì¹­ë˜ë©´ ì—ëŸ¬** â†’ `--index`ë¡œ ì§€ì •í•˜ê±°ë‚˜ ë” êµ¬ì²´ì ì¸ ë¬¸ìì—´ ì‚¬ìš©
- **`update`ëŠ” find & replace** â€” ë³€ê²½í•  ë¶€ë¶„ë§Œ ì •í™•íˆ ì§€ì •
- **ë²„ì „ì€ ìë™ ê´€ë¦¬ë¨** â€” `update`í•  ë•Œë§ˆë‹¤ ìƒˆ ë²„ì „ ìƒì„±, ì´ì „ ë²„ì „ì€ `--ver`ë¡œ ì ‘ê·¼
- **ë°ëª¬ì€ ìë™ ì‹œì‘/ì¢…ë£Œ** â€” `play` ì‹œ ìë™ ì‹œì‘, 30ë¶„ ë¹„í™œë™ ì‹œ ìë™ ì¢…ë£Œ
- **`$:`ëŠ” ë³‘ë ¬ ë ˆì´ì–´**, **`setcpm(N)`** = BPM Ã· 4 (ì˜ˆ: 120 BPM â†’ `setcpm(30)`)
